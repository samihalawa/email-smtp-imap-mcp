version: 1

# Smithery configuration file for SMTP MCP Server

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP
    type: object
    required:
      - port
    properties:
      port:
        type: number
        description: Port number for the MCP server to run on
        default: 8082
      debug:
        type: boolean
        description: Enable debug mode for additional logging
        default: false
      smtp:
        type: object
        description: SMTP server configuration
        properties:
          host:
            type: string
            description: SMTP server hostname
            default: "smtp.example.com"
          port:
            type: number
            description: SMTP server port
            default: 587
          secure:
            type: boolean
            description: Use secure connection (TLS)
            default: true
          user:
            type: string
            description: SMTP username
            default: ""
          password:
            type: string
            description: SMTP password
            default: ""
  commandFunction:
    # A function that produces the CLI command to start the MCP on stdio
    |-
    (config) => ({ 
      command: 'node', 
      args: ['build/index.js'], 
      env: { 
        PORT: config.port?.toString(), 
        DEBUG: config.debug ? "true" : "false",
        SMTP_HOST: config.smtp?.host,
        SMTP_PORT: config.smtp?.port?.toString(),
        SMTP_SECURE: config.smtp?.secure ? "true" : "false",
        SMTP_USER: config.smtp?.user,
        SMTP_PASS: config.smtp?.password
      } 
    })